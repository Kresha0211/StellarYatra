@model AstroSafar.Models.Enrollment

@{
    ViewData["Title"] = "Enroll in Course";
}

<h2>@ViewData["Title"]</h2> 

<!-- Display Course Name -->
<h4>@Model.CourseAdmin.Name</h4>
<p>@Model.CourseAdmin.Description</p>

<form asp-action="Enroll" method="post">
    <div class="mb-3">
        <label asp-for="FullName" class="form-label">Full Name</label>
        <input asp-for="FullName" class="form-control" />
        <span asp-validation-for="FullName" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="Email" class="form-label">Email</label>
        <input asp-for="Email" type="email" class="form-control" />
        <span asp-validation-for="Email" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label class="form-label">Gender</label><br />

        <div class="form-check form-check-inline">
            <input asp-for="Gender" type="radio" class="form-check-input" value="Male" id="genderMale" />
            <label class="form-check-label" for="genderMale">Male</label>
        </div>

        <div class="form-check form-check-inline">
            <input asp-for="Gender" type="radio" class="form-check-input" value="Female" id="genderFemale" />
            <label class="form-check-label" for="genderFemale">Female</label>
        </div>

        <div class="form-check form-check-inline">
            <input asp-for="Gender" type="radio" class="form-check-input" value="Other" id="genderOther" />
            <label class="form-check-label" for="genderOther">Other</label>
        </div>

        <span asp-validation-for="Gender" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="DateOfBirth" class="control-label"></label>
        <input asp-for="DateOfBirth" class="form-control" />
        <span asp-validation-for="DateOfBirth" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="Standard" class="form-label">Standard</label>
        <input asp-for="Standard" class="form-control" />
        <span asp-validation-for="Standard" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="Address" class="form-label">Address</label>
        <input asp-for="Address" class="form-control" />
        <span asp-validation-for="Address" class="text-danger"></span>
    </div>

    <!-- Hidden field to send CourseId -->
    <input type="hidden" asp-for="CourseId" />

    <button type="submit" class="btn btn-primary">Enroll</button>
</form>

<!-- Validation Summary -->
<div asp-validation-summary="ModelOnly" class="text-danger"></div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const dobInput = document.getElementById("DateOfBirth");
            if (dobInput) {
                // Prevent future dates
                const today = new Date().toISOString().split("T")[0];
                dobInput.setAttribute("max", today);

               
                const currentYear = new Date().getFullYear();
                dobInput.value = `${currentYear}-01-01`; // Default to January 1st of the current year
            }
        });
    </script>
}
@* @model AstroSafar.Models.Enrollment

@{
    ViewData["Title"] = "Enroll in Course";
}

<h2>@ViewData["Title"]</h2>

<!-- Display Course Name -->
<h4>@Model.CourseAdmin.Name</h4>
<p>@Model.CourseAdmin.Description</p>

<form asp-action="Enroll" method="post">
    <div class="mb-3">
        <label asp-for="FullName" class="form-label">Full Name</label>
        <input asp-for="FullName" class="form-control" />
        <span asp-validation-for="FullName" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="Email" class="form-label">Email</label>
        <input asp-for="Email" type="email" class="form-control" />
        <span asp-validation-for="Email" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label class="form-label">Gender</label><br />

        <div class="form-check form-check-inline">
            <input asp-for="Gender" type="radio" class="form-check-input" value="Male" id="genderMale" />
            <label class="form-check-label" for="genderMale">Male</label>
        </div>

        <div class="form-check form-check-inline">
            <input asp-for="Gender" type="radio" class="form-check-input" value="Female" id="genderFemale" />
            <label class="form-check-label" for="genderFemale">Female</label>
        </div>

        <div class="form-check form-check-inline">
            <input asp-for="Gender" type="radio" class="form-check-input" value="Other" id="genderOther" />
            <label class="form-check-label" for="genderOther">Other</label>
        </div>

        <span asp-validation-for="Gender" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="DateOfBirth" class="control-label"></label>
        <input asp-for="DateOfBirth" class="form-control" />
        <span asp-validation-for="DateOfBirth" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="Standard" class="form-label">Standard</label>
        <input asp-for="Standard" class="form-control" />
        <span asp-validation-for="Standard" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="Address" class="form-label">Address</label>
        <input asp-for="Address" class="form-control" />
        <span asp-validation-for="Address" class="text-danger"></span>
    </div>

    <!-- Hidden field to send CourseId -->
    <input type="hidden" asp-for="CourseId" />

    <button type="submit" class="btn btn-primary">Enroll</button>
</form>

<!-- Validation Summary -->
<div asp-validation-summary="ModelOnly" class="text-danger"></div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const dobInput = document.getElementById("DateOfBirth");
            if (dobInput) {
                // Prevent future dates
                const today = new Date().toISOString().split("T")[0];
                dobInput.setAttribute("max", today);


                const currentYear = new Date().getFullYear();
                dobInput.value = `${currentYear}-01-01`; // Default to January 1st of the current year
            }
        });
    </script> *@




  @*   Needed *@


@*  @model AstroSafar.Models.Enrollment

@{
    ViewData["Title"] = "Enroll in Course";
}

<h2>@ViewData["Title"]</h2>

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">@TempData["ErrorMessage"]</div>
    <a href="@Url.Action("CourseList", new { courseId = Model.CourseId })" class="btn btn-primary">Go to Course</a>
}
else
{
    <h4>@Model.CourseAdmin.Name</h4>

    <form asp-action="Enroll" method="post">
        <input type="hidden" asp-for="CourseId" />
        <input type="hidden" asp-for="RegistrationId" />

        <div class="mb-3">
            <label asp-for="FullName" class="form-label">Full Name</label>
            <input asp-for="FullName" class="form-control" />
            <span asp-validation-for="FullName" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Email" class="form-label">Email</label>
            <input asp-for="Email" class="form-control" type="email" />
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Gender</label><br />

            <div class="form-check form-check-inline">
                <input asp-for="Gender" type="radio" class="form-check-input" value="Male" id="genderMale" />
                <label class="form-check-label" for="genderMale">Male</label>
            </div>

            <div class="form-check form-check-inline">
                <input asp-for="Gender" type="radio" class="form-check-input" value="Female" id="genderFemale" />
                <label class="form-check-label" for="genderFemale">Female</label>
            </div>

            <div class="form-check form-check-inline">
                <input asp-for="Gender" type="radio" class="form-check-input" value="Other" id="genderOther" />
                <label class="form-check-label" for="genderOther">Other</label>
            </div>

            <span asp-validation-for="Gender" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="DateOfBirth" class="form-label">Date of Birth</label>
            <input asp-for="DateOfBirth" class="form-control" type="date" />
            <span asp-validation-for="DateOfBirth" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Standard" class="form-label">Standard</label>
            <input asp-for="Standard" class="form-control" />
            <span asp-validation-for="Standard" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Address" class="form-label">Address</label>
            <input asp-for="Address" class="form-control" />
            <span asp-validation-for="Address" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary">Enroll</button>

    </form>
    <style>
        input[type="email"] {
            width: 100% !important;
            display: block !important;
            color: black !important;
            background-color: white !important;
            border: 1px solid #ccc !important;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            border-radius: 0.25rem;
        }
    </style>
}
 *@


@*  Needed *@
@* 
 @model AstroSafar.Models.Enrollment

@{
    ViewData["Title"] = "Enroll in Course";
}

<h2>@ViewData["Title"]</h2>

@if (ViewBag.IsEnrolled != null && ViewBag.IsEnrolled == true)
{
    <div class="alert alert-success">
        You are already enrolled in this course.
    </div>
    <a href="@Url.Action("Units", new { courseId = Model.CourseId })" class="btn btn-primary">Go to Course Units</a>
}
else
{
    <h4>@Model.CourseAdmin.Name</h4>

    <form asp-action="Enroll" method="post">
        <input type="hidden" asp-for="CourseId" />
        <input type="hidden" asp-for="RegistrationId" />

        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="fa fa-user"></i></span>
            <input asp-for="FullName" class="form-control" placeholder="Full Name" />
            <span asp-validation-for="FullName" class="text-danger"></span>
        </div>

        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="fa fa-envelope"></i></span>
            <input asp-for="Email" class="form-control" type="email" placeholder="Email" />
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Gender</label><br />
            <div class="form-check form-check-inline">
                <input asp-for="Gender" type="radio" class="form-check-input" value="Male" id="genderMale" />
                <label class="form-check-label" for="genderMale"><i class="fa fa-mars"></i> Male</label>
            </div>

            <div class="form-check form-check-inline">
                <input asp-for="Gender" type="radio" class="form-check-input" value="Female" id="genderFemale" />
                <label class="form-check-label" for="genderFemale"><i class="fa fa-venus"></i> Female</label>
            </div>

            <div class="form-check form-check-inline">
                <input asp-for="Gender" type="radio" class="form-check-input" value="Other" id="genderOther" />
                <label class="form-check-label" for="genderOther"><i class="fa fa-genderless"></i> Other</label>
            </div>

            <span asp-validation-for="Gender" class="text-danger"></span>
        </div>

        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="fa fa-calendar"></i></span>
            <input asp-for="DateOfBirth" class="form-control" type="date" />
            <span asp-validation-for="DateOfBirth" class="text-danger"></span>
        </div>

        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="fa fa-graduation-cap"></i></span>
            <input asp-for="Standard" class="form-control" placeholder="Standard (e.g., 5th, 10th)" />
            <span asp-validation-for="Standard" class="text-danger"></span>
        </div>

        <div class="mb-3 input-group">
            <span class="input-group-text"><i class="fa fa-home"></i></span>
            <input asp-for="Address" class="form-control" placeholder="Address" />
            <span asp-validation-for="Address" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary"><i class="fa fa-paper-plane"></i> Enroll</button>
    </form>

    <style>
        .input-group-text {
            background-color: #f8f9fa;
            border-right: none;
        }
        .form-control {
            border-left: none;
        }
        .input-group .form-control:focus {
            box-shadow: none;
            border-color: #007bff;
        }
    </style>
}
 *@


@*  @model AstroSafar.Models.Enrollment

@{
    ViewData["Title"] = "Enroll in Course";
}

<h2 class="text-center text-primary">@ViewData["Title"]</h2>

@if (ViewBag.IsEnrolled != null && ViewBag.IsEnrolled == true)
{
    <div class="alert alert-success text-center">
        You are already enrolled in this course.
    </div>
    <div class="text-center">
        <a href="@Url.Action("Units", new { courseId = Model.CourseId })" class="btn btn-success">
            <i class="fa fa-book"></i> Go to Course Units
        </a>
    </div>
}
else
{
    <div class="card shadow-lg p-4 mt-4">
        <h4 class="text-center text-info"><i class="fa fa-book"></i> @Model.CourseAdmin.Name</h4>
        <hr>

        <form asp-action="Enroll" method="post" class="needs-validation" novalidate>
            <input type="hidden" asp-for="CourseId" />
            <!-- Full Name -->
            <div class="mb-3 input-group">
                <span class="input-group-text bg-primary text-white"><i class="fa fa-user"></i></span>
                <input asp-for="FullName" class="form-control" placeholder="Full Name" required />
                <span asp-validation-for="FullName" class="text-danger"></span>
            </div>

            <!-- Email (Fixed Box Alignment) -->
            <div class="mb-3 input-group">
                <span class="input-group-text bg-primary text-white"><i class="fa fa-envelope"></i></span>
                <input asp-for="Email" class="form-control" type="email" placeholder="Email" required />
            </div>

            <!-- Gender -->
            <div class="mb-3">
                <label class="form-label">Gender</label><br />
                <div class="form-check form-check-inline">
                    <input asp-for="Gender" type="radio" class="form-check-input" value="Male" id="genderMale" required />
                    <label class="form-check-label" for="genderMale"><i class="fa fa-mars"></i> Male</label>
                </div>

                <div class="form-check form-check-inline">
                    <input asp-for="Gender" type="radio" class="form-check-input" value="Female" id="genderFemale" required />
                    <label class="form-check-label" for="genderFemale"><i class="fa fa-venus"></i> Female</label>
                </div>

                <div class="form-check form-check-inline">
                    <input asp-for="Gender" type="radio" class="form-check-input" value="Other" id="genderOther" required />
                    <label class="form-check-label" for="genderOther"><i class="fa fa-genderless"></i> Other</label>
                </div>

                <span asp-validation-for="Gender" class="text-danger"></span>
            </div>

           

         <div class="mb-3 input-group">
    <span class="input-group-text bg-primary text-white">
        <i class="fa fa-calendar"></i>
    </span>
    <input asp-for="DateOfBirth" class="form-control" type="text" 
           placeholder="mm/dd/yyyy" value="" required
           onfocus="(this.type='date')" 
           onblur="if(!this.value) { this.type='text'; this.placeholder='mm/dd/yyyy'; }"
           min="@DateTime.Now.AddYears(-13).ToString("yyyy-MM-dd")"
           min="@DateTime.Now.AddYears(-6).ToString("yyyy-MM-dd")"/>
                       <span asp-validation-for="DateOfBirth" class="text-danger"></span>
         </div>


            <!-- Standard (Fixed Default Value) -->
            <div class="mb-3 input-group">
                <span class="input-group-text bg-primary text-white"><i class="fa fa-graduation-cap"></i></span>
                <input asp-for="Standard" class="form-control" type="number" placeholder="Standard" required min="1" max="6"
                       onfocus="if(this.value==='Standard') this.value='';"
                       onblur="if(this.value==='') this.value='Standard';" />
            </div>

            <!-- Address -->
            <div class="mb-3 input-group">
                <span class="input-group-text bg-primary text-white"><i class="fa fa-home"></i></span>
                <input asp-for="Address" class="form-control" placeholder="Address" required />
                <span asp-validation-for="Address" class="text-danger"></span>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-success px-4">
                    <i class="fa fa-paper-plane"></i> Enroll
                </button>
            </div>
        </form>
    </div>

    <style>
        body {
            background-color: #f8f9fa;
        }

        .card {
            max-width: 600px;
            margin: auto;
            border-radius: 10px;
        }

        .input-group-text {
            border-right: none;
            font-size: 1.2rem;
        }

        .form-control {
            border-left: none;
            transition: 0.3s;
        }

        .form-control:focus {
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
            border-color: #007bff;
        }

        .btn {
            font-size: 1.2rem;
        }

        .input-group {
            display: flex;
            align-items: center; /* Aligns items in a row */
        }

            .input-group .input-group-text {
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0.375rem 0.75rem;
                background-color: #007bff; /* Blue background */
                color: white; /* White icon color */
                border: 1px solid #007bff;
                border-right: 0; /* Remove right border for smooth connection */
            }

            .input-group .form-control {
                flex: 1; /* Allows it to take the remaining space */
                border: 1px solid #ccc !important;
                border-left: 0 !important; /* Remove left border for seamless design */
                padding: 0.375rem 0.75rem;
                font-size: 1rem;
                border-radius: 0 0.25rem 0.25rem 0; /* Rounded corners only on the right */
            }

                .input-group .form-control:focus {
                    border-color: #007bff !important;
                    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5) !important;
                    outline: none;
                }


  
    </style>

    <script>
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                var forms = document.getElementsByClassName('needs-validation');
                Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
}
 *@